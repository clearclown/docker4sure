#!/bin/bash
# docker4sure: Transparent Docker-to-Podman redirect wrapper
# When DOCKER_REAL=1 is set, use the real docker binary

set -euo pipefail

# If DOCKER_REAL is set, use the real docker
if [[ "${DOCKER_REAL:-}" == "1" ]]; then
    exec /usr/bin/docker "$@"
fi

# Handle 'docker compose' â†’ 'podman-compose'
if [[ "${1:-}" == "compose" ]]; then
    shift
    exec podman-compose "$@"
fi

# Default: forward to podman
exec podman "$@"
